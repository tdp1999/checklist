"use strict";(self.webpackChunkchecklist=self.webpackChunkchecklist||[]).push([[218],{9218:(Y,m,i)=>{i.r(m),i.d(m,{DetailModule:()=>T});var l=i(6362),a=i(6352),v=i(6439),f=i(9095),D=i(6942),p=i(2692),t=i(3184),C=i(6909),M=i(2528),x=i(7240),y=i(9047),d=i(1534),h=i(587),g=i(7317);const S=function(){return["/admin/items/"]},A=function(e){return{itemID:e}};function k(e,s){if(1&e){const n=t.EpF();t.ynx(0),t.TgZ(1,"div",1)(2,"mat-checkbox",2),t.NdJ("ngModelChange",function(c){return t.CHM(n),t.oxw().markAsDone=c})("ngModelChange",function(){const r=t.CHM(n).ngIf;return t.oxw().onStateChanges(r)}),t._uU(3," Mark as done "),t.qZA(),t.TgZ(4,"a",3),t._uU(5,"Edit content"),t.qZA()(),t._UZ(6,"div",4),t.BQk()}if(2&e){const n=s.ngIf,o=t.oxw();t.xp6(2),t.Q6J("ngModel",o.markAsDone),t.xp6(2),t.Q6J("routerLink",t.DdM(4,S))("queryParams",t.VKq(5,A,n._id)),t.xp6(2),t.Q6J("innerHTML",n.content,t.oJD)}}const I=[{path:"",component:(()=>{class e{constructor(n,o,c,r,u,L){this._router=n,this._activatedRoute=o,this._itemService=c,this._snackbar=r,this._sidenavService=u,this._highlightService=L,this.markAsDone=!1,this._highlighted=!1,this._isDataLoaded=!1}ngOnInit(){this.item$=this._activatedRoute.params.pipe((0,f.w)(n=>n.item?this._itemService.retrieveItemBySlug(n.item).pipe((0,D.U)(o=>0===o.length?(this._router.navigate(["/checklist"]),{}):(this.markAsDone=o[0].isDone,o[0])),(0,p.b)(o=>{this._isDataLoaded=!0})):(this._router.navigate(["/checklist"]),v.E)))}ngAfterViewChecked(){!this._highlighted&&this._isDataLoaded&&(this._highlightService.highlightAll(),this._highlighted=!0)}onStateChanges(n){n.isDone=this.markAsDone,this._itemService.patchItem(n,n.categoryID).subscribe(o=>{this._sidenavService.remindToReloadCategory(),this._snackbar.open("Item updated","Dismiss",{duration:2e3})})}}return e.\u0275fac=function(n){return new(n||e)(t.Y36(a.F0),t.Y36(a.gz),t.Y36(C.F),t.Y36(M.ux),t.Y36(x.Z),t.Y36(y.l))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-detail"]],decls:2,vars:3,consts:[[4,"ngIf"],[1,"flex","items-center","justify-between"],[3,"ngModel","ngModelChange"],["mat-flat-button","","color","primary",3,"routerLink","queryParams"],[1,"editorial",3,"innerHTML"]],template:function(n,o){1&n&&(t.YNc(0,k,7,7,"ng-container",0),t.ALo(1,"async")),2&n&&t.Q6J("ngIf",t.lcZ(1,1,o.item$))},directives:[l.O5,d.oG,h.JJ,h.On,g.zs,a.yS],pipes:[l.Ov],styles:[""],changeDetection:0}),e})()}];let J=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[[a.Bz.forChild(I)],a.Bz]}),e})(),T=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[[l.ez,J,d.p9,h.u5,g.ot]]}),e})()}}]);
//# sourceMappingURL=218.8c282248d23afb0a.js.map